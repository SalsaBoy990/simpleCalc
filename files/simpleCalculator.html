
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Egyszerű számológép - Simple Calculator</title>
    <meta lang="hu-HU">
    <meta name="description" content="A very simple web page for testing">
    <meta name="author" content="Gulácsi András">

    <link rel="shortcut icon" type="image/png" href="https://assets-cdn.github.com/images/icons/emoji/unicode/1f522.png">
    <link rel="stylesheet" type="text/css" href="css_img/style.css"/>
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="simpleCalc.js"></script>
    <script async type="text/javascript">
        $(document).ready( function() {
            var count = 0;
            var error;
            var temp;
            $('#calculate-button').click(function() {
                simpleCalc(startingBracket, endingBracket, "display", "message");
                error = $("#message");
                error.delay(2000).fadeOut("fast", function() {
                    error.html("").css('display', 'block')
                });
            });
            
            $("#b0").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "0";
                    $("#display").html(temp);
                }
            });

            $("#b1").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "1";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "1";
                    $("#display").html(temp);
                }
            });

            $("#b2").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "2";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "2";
                    $("#display").html(temp);
                }
            });

            $("#b3").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "3";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "3";
                    $("#display").html(temp);
                }
            });
            
            $("#b4").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "4";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "4";
                    $("#display").html(temp);
                }
            });

            $("#b5").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "5";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "5";
                    $("#display").html(temp);
                }
            });
            
            $("#b6").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "6";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "6";
                    $("#display").html(temp);
                }
            });

            $("#b7").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "7";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "7";
                    $("#display").html(temp);
                }
            });
            
            $("#b8").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "8";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "8";
                    $("#display").html(temp);
                }
            });

            $("#b9").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "9";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "9";
                    $("#display").html(temp);
                }
            });

            $("#backspace").click(function() {
                temp = $("#display").html();
                if(temp.length === 1) {
                    temp = "0";
                    $("#display").html(temp);
                    count = 0;
                } else {
                    var string = temp.slice(0,-1);
                    console.log(string);
                    $("#display").html(string);
                }
            });

            $("#clear").click(function() {
                $("#display").html("0");
                count = 0;
            });

            $("#add").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "+";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "+";
                    $("#display").html(temp);
                }
            });

            $("#substract").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "-";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "-";
                    $("#display").html(temp);
                }
            });

            $("#multiply").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "*";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "*";
                    $("#display").html(temp);
                }
            });

            $("#divide").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "/";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "/";
                    $("#display").html(temp);
                }
            });

            $("#comma").click(function() {
                temp = $("#display").html();
                temp += ",";
                $("#display").html(temp);
            });

            $("#sign").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "-";
                    $("#display").html(temp);
                    count = 1;
                } else {
                    temp += "-";
                    $("#display").html(temp);
                }
            });

            var startingBracket = 0;
            var endingBracket = 0;
            $("#starting-bracket").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = "(";
                    $("#display").html(temp);
                    count = 1;
                    startingBracket++;
                } else {
                    temp += "(";
                    $("#display").html(temp);
                    startingBracket++;
                }
            });

            $("#ending-bracket").click(function() {
                temp = $("#display").html();
                if(count === 0 && temp.charAt(0) === "0" && temp.charAt(1) !== ",") {
                    temp = ")";
                    $("#display").html(temp);
                    count = 1;
                    endingBracket++;
                } else {
                    temp += ")";
                    $("#display").html(temp);
                    endingBracket++;
                }
            });
        });
    </script>
  </head>
  <body>
    <table class="calculator">
      <tr>
        <td colspan="5"><h2>A számológéped</h2></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>

      <tr>
        <td colspan="5"><div id="display" class="display">0</div></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>

      <tr>
        <td colspan="3"><div id="message"></div></td>
        <td><button id="backspace" class="smallbox">←</button></td>
        <td><button id="clear" class="smallbox">C</button></td>
      </tr>

      <tr>
        <td><button id="b7" class="smallbox">7</button></td>
        <td><button id="b8" class="smallbox">8</button></td>
        <td><button id="b9" class="smallbox">9</button></td>
        <td><button id="starting-bracket" class="smallbox">(</button></td>
        <td><button id="ending-bracket" class="smallbox">)</button></td>
      </tr>

      <tr>
        <td><button id="b4" class="smallbox">4</button></td>
        <td><button id="b5" class="smallbox">5</button></td>
        <td><button id="b6" class="smallbox">6</button></td>
        <td><button id="multiply" class="smallbox">*</button></td>
        <td><button id="divide" class="smallbox">/</button></td>
      </tr>

      <tr>
        <td><button id="b1" class="smallbox">1</button></td>
        <td><button id="b2" class="smallbox">2</button></td>
        <td><button id="b3" class="smallbox">3</button></td>
        <td><button id="add" class="smallbox">+</button></td>
        <td><button id="substract" class="smallbox">-</button></td>
      </tr>

      <tr>
        <td><button id="b0" class="smallbox">0</button></td>
        <td><button id="comma" class="smallbox">,</button></td>
        <td><button id="sign" class="smallbox">-x</button></td>
        <td colspan="2"><button class="smallbox-2" id="calculate-button" >=</button></td>
        <td></td>
      </tr>
    </table>

    <br />
    <div class="note">
        <p>&copy; Gulácsi András, 2017. MIT liszensz.<br/>
          A program igyenes, de a saját felelősségedre használod.
          Ha hibába ütközöl a program használata során, akkor a <a href="mailto:guland@protonmail.com">guland@protonmail.com</a>-ra küldj egy üzenetet, ha gondolod!
        </p>
      </div>
    </div>
  </body>
</html>
